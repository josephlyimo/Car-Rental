<div class="login-container">
  <div class="login-right-panel">
    <h2>Admin Registration (Hidden)</h2>

    {{#if error}}
      <div class="error-message">
        {{error}}
      </div>
    {{/if}}

    <form action="/admin/register" method="POST" class="login-form">
      <div class="form-group">
        <input type="text" id="name" name="name" placeholder="Full name *" required />
      </div>
      <div class="form-group">
        <input type="email" id="email" name="email" placeholder="Email *" required />
      </div>
      <div class="form-group password-group">
        <input type="password" id="password" name="password" placeholder="Password *" required />
        <span class="toggle-password" onclick="togglePasswordVisibility()">&#128065;</span>
        <div id="passwordFeedback" class="password-feedback"></div>
      </div>
      <button type="submit" class="btn btn-primary">Register Admin</button>
    </form>
  </div>

  <div class="login-left-panel">
    <h2>Welcome Back!</h2>
    <p>Already have an account?</p>
    <a href="/users/login" class="btn btn-outline">Login</a>
  </div>
</div>

<script>
  function togglePasswordVisibility() {
    const passwordInput = document.getElementById('password');
    const type = passwordInput.getAttribute('type');
    passwordInput.setAttribute('type', type === 'password' ? 'text' : 'password');
  }

  const weakPasswords = ['123456', 'password', '123456789', '12345678', '12345', '1234', '111111', 'abcd', 'qwerty'];

  const passwordInput = document.getElementById('password');
  const feedback = document.getElementById('passwordFeedback');

  passwordInput.addEventListener('input', () => {
    const value = passwordInput.value;
    if (weakPasswords.includes(value)) {
      feedback.textContent = 'This password is too weak or guessable.';
    } else if (value.length < 6) {
      feedback.textContent = 'Password must be at least 6 characters long.';
    } else {
      feedback.textContent = '';
    }
  });
</script>
